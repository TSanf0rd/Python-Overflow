{% extends "base.html" %}
{% block content %}
<h2>Manage Modules</h2>

<!-- Assuming each module has m[4] as lib_id -->
<!-- This will add a button for each module's library -->
{% for m in modules %}
  <p>
    <a href="{{ url_for('add_module', lib_id=m[4]) }}">âž• Add New Module to {{ m[3] }}</a>

  </p>
{% endfor %}

<table>
  <tr>
    <th>ID</th><th>Name</th><th>Description</th><th>Library</th><th>Actions</th>
  </tr>
  {% for m in modules %}
  <tr>
    <td>{{ m[0] }}</td>
    <td>{{ m[1] }}</td>
    <td>{{ m[2] }}</td>
    <td>{{ m[3] }}</td>
    <td>
      <a href="{{ url_for('edit_module', mod_id=m[0]) }}">Edit</a> |
      <form method="POST" action="{{ url_for('delete_module', mod_id=m[0]) }}" style="display:inline;">
        <button type="submit" onclick="return confirm('Are you sure?')">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
